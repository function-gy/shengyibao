(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/index"],{428:function(t,e,n){"use strict";(function(t,e){var o=n(4);n(26);o(n(25));var i=o(n(429));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n(1)["default"],n(2)["createPage"])},429:function(t,e,n){"use strict";n.r(e);var o=n(430),i=n(432);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n(434);var c,r=n(33),a=Object(r["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"4586967a",null,!1,o["components"],c);a.options.__file="pages/login/index.vue",e["default"]=a.exports},430:function(t,e,n){"use strict";n.r(e);var o=n(431);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},431:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return i})),n.d(e,"staticRenderFns",(function(){return c})),n.d(e,"recyclableRender",(function(){return s})),n.d(e,"components",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.dltype="phone"},t.e1=function(e){t.dltype="jfk"},t.e2=function(e){"jfk"==t.dltype?t.jfdoLogin():t.doLogin()},t.e3=function(e){t.checked=!t.checked},t.e4=function(e){t.checked=!t.checked})},s=!1,c=[];i._withStripped=!0},432:function(t,e,n){"use strict";n.r(e);var o=n(433),i=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},433:function(t,e,n){"use strict";(function(t){var o=n(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(n(30));var i={data:function(){return{flag:!1,codeTime:0,checked:"",disabled1:"",form:{isIntegralPay:"",card_sn:"",card_secret:"",phone:"",sms_code:""},timer:null,dltype:"phone"}},computed:{code:function(){return this.$store.state.code},configthemp:function(){return this.$store.state.configthemp},myStyle:function(){return this.$store.state.myStyle},login_config:function(){if(this.$store.state.homeInfo)return JSON.parse(JSON.parse(this.$store.state.homeInfo).home_style.login_config)}},onUnload:function(){console.log("onUnload"),t.reLaunch({url:"/pages/tabbar/tabbar"})},methods:{callPhone:function(){if(!/^[1][0-9]{10}$/.test(this.form.phone))return t.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.form.phone=this.form.phone-0,this.$api.common.getLoginVoice.post(this.form).then((function(e){0==e.code&&t.showToast({title:e.msg,icon:"success"})}))},goTo:function(){t.navigateTo({url:"/pages/login/contractInfo?name="+this.login_config.remarkname})},getAuthInfo:function(){this.$api.common.authInfo.post().then((function(e){0==e.code&&t.setStorage({key:"mall_authInfo",data:e.data,success:function(){}})}))},getCheckNum:function(){var e=this;if(!/^[1][0-9]{10}$/.test(this.form.phone))return t.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.codeTime>0?t.showToast({title:"不能重复获取",icon:"none"}):(this.codeTime=60,this.timer=setInterval((function(){e.codeTime--,e.codeTime<1&&(clearInterval(e.timer),e.codeTime=0)}),1e3),this.form.phone=this.form.phone-0,this.$api.common.getSmsCode.post(this.form).then((function(n){0==n.code?t.showToast({title:n.msg,icon:"success"}):(clearInterval(e.timer),e.codeTime=0)})))},jfdoLogin:function(){var e=this;return console.log(11),t.hideKeyboard(),this.form.isIntegralPay=1,this.form.card_sn&&this.form.card_secret?/^[1][0-9]{10}$/.test(this.form.phone)?this.form.sms_code?void this.$api.common.authLogin.post(this.form).then((function(n){if(0==n.code){var o=n.data.token;t.setStorageSync("mall_token",o),t.showToast({title:n.msg,icon:"success"}),e.getAuthInfo(),e.$store.commit("SET_TabbarKey","home"),t.setStorageSync("tabbarKey","home"),setTimeout((function(){t.navigateTo({url:"/pages/tabbar/tabbar"})}),1e3)}})).catch((function(e){t.showToast({title:e.msg,icon:"none"})})):(t.showToast({title:"请填写验证码",icon:"none"}),!1):(t.showToast({title:"请填写正确手机号码",icon:"none"}),!1):(t.showToast({title:"卡号卡密不可为空",icon:"none"}),!1)},doLogin:function(){var e=this;if(t.hideKeyboard(),this.form.isIntegralPay="",this.checked){if(!/^[1][0-9]{10}$/.test(this.form.phone))return t.showToast({title:"请填写正确手机号码",icon:"none"}),!1;if(!this.form.sms_code)return t.showToast({title:"请填写验证码",icon:"none"}),!1;this.$api.common.authLogin.post(this.form).then((function(n){if(0==n.code){var o=n.data.token;t.setStorageSync("mall_token",o),t.showToast({title:n.msg,icon:"success"}),e.getAuthInfo(),e.$store.commit("SET_TabbarKey","home"),t.setStorageSync("tabbarKey","home"),setTimeout((function(){t.navigateTo({url:"/pages/tabbar/tabbar"})}),1e3)}})).catch((function(e){t.showToast({title:e.msg,icon:"none"})}))}else t.showToast({title:"请先勾选阅读并同意",icon:"none"})}}};e.default=i}).call(this,n(2)["default"])},434:function(t,e,n){"use strict";n.r(e);var o=n(435),i=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},435:function(t,e,n){}},[[428,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/login/index.js.map