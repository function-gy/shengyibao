(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-comm-wechatem"],{"3a32":function(t,n,e){"use strict";e.r(n);var a=e("ccd9"),i=e("66cc");for(var c in i)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(c);var o=e("f0c5"),r=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"a0f6b98e",null,!1,a["a"],void 0);n["default"]=r.exports},"66cc":function(t,n,e){"use strict";e.r(n);var a=e("77ae"),i=e.n(a);for(var c in a)["default"].indexOf(c)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(c);n["default"]=i.a},"77ae":function(t,n,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("d3b7");var i=a(e("c7eb")),c=a(e("1da1")),o={name:"wechatem",data:function(){return{baseUrl:this.$baseUrl,datainfo:{},paramesdata:{}}},mounted:function(){},methods:{wechatLogin:function(){var t=this;return(0,c.default)((0,i.default)().mark((function n(){var e,a,c,o;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=t,n.next=3,t.loginLoad();case 3:return a=n.sent,n.next=6,t.getUserInfo();case 6:return e.datainfo=n.sent,c={wxcode:a.code,encryptedData:e.datainfo.encryptedData,iv:e.datainfo.iv,signature:e.datainfo.signature,rawData:e.datainfo.rawData},console.log("loginLoad",c),n.next=11,t.$api.wechat.wxappLogin.post(c);case 11:o=n.sent,0==o.code&&(uni.showToast({icon:"success",title:"授权成功"}),setTimeout((function(){uni.navigateBack({delta:1})}),1e3));case 13:case"end":return n.stop()}}),n)})))()},loginLoad:function(){return new Promise((function(t){wx.login({provider:"weixin",success:function(n){t(n)},fail:function(t){uni.showToast({icon:"none",title:"授权失败"})}})}))},getUserInfo:function(){return new Promise((function(t){wx.getUserInfo({desc:"登录后可同步数据",lang:"zh_CN",success:function(n){t(n)}}),setTimeout((function(){uni.hideLoading()}),500)}))}}};n.default=o},ccd9:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"p-2",staticStyle:{"padding-top":"5vh","line-height":"50rpx"}},[e("v-uni-view",{staticClass:"m-tb-10 c999 flex-row f14"},[e("v-uni-image",{staticClass:"m-r-10",staticStyle:{width:"50rpx",height:"50rpx"},attrs:{src:t.baseUrl+"/storage/tksk_mall_img/app/kflogo.png"}}),e("v-uni-view",{staticClass:"flex-item"},[t._v(t._s(t.uni.getStorageSync("basetitle"))+"申请使用")])],1),e("v-uni-view",{staticClass:"f18 fw c333 m-tb-10"},[e("v-uni-text",[t._v("你的账号信息（昵称、头像、地区及性）")])],1),e("v-uni-view",{staticClass:"c999 f12 p-tb-1 border-line"},[t._v("个人信息登录")]),e("v-uni-view",{staticStyle:{"margin-top":"10vh"}},[e("v-uni-view",{staticClass:"cfff f15 p-tb-10 text-c br10",staticStyle:{width:"500rpx",margin:"auto","background-color":"#1ca71c"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.wechatLogin()}}},[t._v("授\n\t\t\t权 登 录")]),e("v-uni-view",{staticClass:"c999 f15 p-tb-10 text-c br10 ",staticStyle:{width:"500rpx",margin:"20rpx auto","background-color":"#f8f8f8"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goblack()}}},[t._v("暂 不 登 录")])],1)],1)},i=[]}}]);