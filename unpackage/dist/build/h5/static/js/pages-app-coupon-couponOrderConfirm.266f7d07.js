(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-app-coupon-couponOrderConfirm"],{"3ecb":function(t,o,n){"use strict";n.r(o);var e=n("fc17"),a=n("9cf4");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(o,t,(function(){return a[t]}))}(i);n("d30e");var r=n("f0c5"),c=Object(r["a"])(a["default"],e["b"],e["c"],!1,null,"c5d112aa",null,!1,e["a"],void 0);o["default"]=c.exports},"6a9c":function(t,o,n){"use strict";n("7a82"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,n("a9e3");var e={name:"couponOrderConfirm",data:function(){return{eventChannel:null,form:{number:1},name:"",imgURL:"",free_num:100,total:0}},computed:{},onPullDownRefresh:function(){},onPageScroll:function(t){},onLoad:function(t){var o=JSON.parse(decodeURIComponent(t.order));this.form.coupon_id=o.coupon_id,this.form.price=o.price,this.form.amount=o.amount,this.form.number=o.number,this.name=o.name,this.imgURL=o.imgURL,this.free_num=o.free_num,this.couponTotalMoneyLoad()},methods:{couponTotalMoneyLoad:function(t){var o=this;this.$api.coupon.couponTotalMoney.post({coupon_id:this.form.coupon_id,num:t?t.value:this.form.number}).then((function(t){0==t.code&&(o.total=t.data.total_fee)}))},createOrder:function(){uni.showLoading({title:"下单中"}),this.$api.coupon.createCouponOrder.post({coupon_id:this.form.coupon_id,num:this.form.number}).then((function(t){0==t.code&&uni.navigateTo({url:"/pages/comm/payCheckstand/index?type=coupon&order_id="+t.data.order_id+"&total_fee="+Number(t.data.total_fee)+"&order_sn="+t.data.order_sn+"&order_type=大牌卡券&info="+t.data.num+"张"+t.data.coupon_amount+"元面值"+t.data.brand_name+t.data.coupon_name})})).catch((function(t){uni.showToast({title:t.msg,icon:"none"})})),setTimeout((function(){uni.hideLoading()}),1e3)}}};o.default=e},"980a":function(t,o,n){var e=n("bccf");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("7119dd32",e,!0,{sourceMap:!1,shadowMode:!1})},"9cf4":function(t,o,n){"use strict";n.r(o);var e=n("6a9c"),a=n.n(e);for(var i in e)["default"].indexOf(i)<0&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=a.a},bccf:function(t,o,n){var e=n("24fb");o=e(!1),o.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */uni-page-body[data-v-c5d112aa]{position:relative}.couponOrderConfirm[data-v-c5d112aa]{font-size:%?30?%}.couponOrderConfirm .msg[data-v-c5d112aa]{background:#fffbf1;height:%?60?%;line-height:%?60?%;font-size:%?22?%;color:#d7862d;padding:0 %?30?%}.couponOrderConfirm .card[data-v-c5d112aa]{padding:%?30?%}.couponOrderConfirm .card .card-top[data-v-c5d112aa]{padding-bottom:%?30?%;border-bottom:%?2?% solid #f3f3f3}.couponOrderConfirm .card .card-top .img uni-image[data-v-c5d112aa]{height:%?130?%}.couponOrderConfirm .card .card-top .info-box[data-v-c5d112aa]{height:100%;margin-left:%?20?%}.couponOrderConfirm .card .card-top .info-box .amount[data-v-c5d112aa]{font-size:%?24?%;color:#b7b6b6}.couponOrderConfirm .card .card-top .info-box .return[data-v-c5d112aa]{color:#ff7544;background:#fff1ec;border-radius:%?30?%;padding:%?5?% %?18?%}.couponOrderConfirm .card .card-bottom[data-v-c5d112aa]{margin-top:%?36?%}.couponOrderConfirm .card .card-bottom .label[data-v-c5d112aa]{color:#b7b6b6}.couponOrderConfirm .total[data-v-c5d112aa]{padding:0 %?30?%;font-weight:400;height:%?100?%;line-height:%?100?%}.couponOrderConfirm .total .amount[data-v-c5d112aa]{color:#d60606}.couponOrderConfirm .btncolorwrap[data-v-c5d112aa]{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:%?24?% %?30?%;border-radius:%?20?% %?20?% 0 0;border:%?2?% solid #f8f8f8;display:flex;align-items:center;justify-content:space-between}.couponOrderConfirm .btncolorwrap .btn .u-button[data-v-c5d112aa]{width:%?230?%;height:%?88?%;background:linear-gradient(90deg,#f8ce5a,#f8ac35);box-shadow:0 %?10?% %?16?% 0 rgba(248,174,56,.4);border-radius:%?44?%;border:none;font-size:%?34?%;font-weight:400;color:#fff}',""]),t.exports=o},d30e:function(t,o,n){"use strict";var e=n("980a"),a=n.n(e);a.a},fc17:function(t,o,n){"use strict";n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return e}));var e={uNumberBox:n("7d51").default,uButton:n("e08c").default},a=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("v-uni-view",{staticClass:"couponOrderConfirm"},[n("v-uni-view",{staticClass:"msg"},[n("v-uni-text",[t._v("支付成功后，可前往“个人中心-我的卡包”使用")])],1),n("v-uni-view",{staticClass:"card bgfff m-b-10"},[n("v-uni-view",{staticClass:"card-top flex-row"},[n("v-uni-view",{staticClass:"img"},[n("v-uni-image",{attrs:{mode:"heightFix",src:t.imgURL}})],1),n("v-uni-view",{staticClass:"flex-item",staticStyle:{flex:"1"}},[n("v-uni-view",{staticClass:"info-box flex-space-evenly"},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(t.name))]),n("v-uni-view",{staticClass:"amount"},[t._v("面值"+t._s(Number(t.form.amount))+"元")]),n("v-uni-view",{staticClass:"flex-space-between"},[n("v-uni-view",{staticClass:"price"},[t._v(t._s(t.form.price)+t._s(t.$tool.getMoneyUnit()))]),n("v-uni-view",{staticClass:"return f9 "},[t._v("不支持退换货")])],1)],1)],1)],1),n("v-uni-view",{staticClass:"card-bottom flex-space-between"},[n("v-uni-view",{staticClass:"label"},[t._v("购买数量")]),n("v-uni-view",[n("u-number-box",{attrs:{integer:!0,"button-size":"26",min:1,max:t.free_num>10?10:t.free_num},on:{change:function(o){arguments[0]=o=t.$handleEvent(o),t.couponTotalMoneyLoad()}},model:{value:t.form.number,callback:function(o){t.$set(t.form,"number",o)},expression:"form.number"}}),t.form.number>=t.free_num||t.form.number>=10?n("v-uni-view",{staticClass:"errInfo f12 u-warning"},[t._v("该卡券最多购买"+t._s(t.free_num>10?10:t.free_num))]):t._e()],1)],1)],1),n("v-uni-view",{staticClass:"total bgfff flex-space-between"},[n("v-uni-view",{staticClass:"label"},[t._v("商品合计")]),n("v-uni-view",{staticClass:"amount"},[t._v(t._s(t.total)+" "+t._s(t.$tool.getMoneyUnit()))])],1),n("v-uni-view",{staticClass:"btncolorwrap flex-space-between"},[n("v-uni-view",{staticClass:"total"},[t._v("共"),n("v-uni-text",{staticClass:"fontReds"},[t._v(t._s(t.form.number))]),t._v("件，合计"),n("v-uni-text",{staticClass:"fontReds"},[t._v(t._s(t.total)+t._s(t.$tool.getMoneyUnit()))])],1),n("v-uni-view",{staticClass:"btn"},[n("u-button",{attrs:{type:"primary",text:"立即兑换"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.createOrder()}}})],1)],1)],1)},i=[]}}]);