(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{"24d2":function(t,e,o){var i=o("cbc5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("4f06").default;n("cdfe13d4",i,!0,{sourceMap:!1,shadowMode:!1})},"2d05":function(t,e,o){"use strict";o("7a82");var i=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("ac1f"),o("00b4");i(o("2eab"));var n={data:function(){return{flag:!1,codeTime:0,checked:"",disabled1:"",form:{isIntegralPay:"",card_sn:"",card_secret:"",phone:"",sms_code:""},timer:null,dltype:"phone"}},computed:{code:function(){return this.$store.state.code},configthemp:function(){return this.$store.state.configthemp},myStyle:function(){return this.$store.state.myStyle},login_config:function(){if(this.$store.state.homeInfo)return JSON.parse(JSON.parse(this.$store.state.homeInfo).home_style.login_config)}},onUnload:function(){console.log("onUnload"),uni.reLaunch({url:"/pages/tabbar/tabbar"})},methods:{callPhone:function(){if(!/^[1][0-9]{10}$/.test(this.form.phone))return uni.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.form.phone=this.form.phone-0,this.$api.common.getLoginVoice.post(this.form).then((function(t){0==t.code&&uni.showToast({title:t.msg,icon:"success"})}))},goTo:function(){uni.navigateTo({url:"/pages/login/contractInfo?name="+this.login_config.remarkname})},getAuthInfo:function(){var t=this;this.$api.common.authInfo.post().then((function(e){0==e.code&&uni.setStorage({key:t.$tool.setStorageLocKey("mall_authInfo"),data:e.data,success:function(){}})}))},getCheckNum:function(){var t=this;if(!/^[1][0-9]{10}$/.test(this.form.phone))return uni.showToast({title:"请填写正确手机号码",icon:"none"}),!1;this.codeTime>0?uni.showToast({title:"不能重复获取",icon:"none"}):(this.codeTime=60,this.timer=setInterval((function(){t.codeTime--,t.codeTime<1&&(clearInterval(t.timer),t.codeTime=0)}),1e3),this.form.phone=this.form.phone-0,this.$api.common.getSmsCode.post(this.form).then((function(e){0==e.code?uni.showToast({title:e.msg,icon:"success"}):(clearInterval(t.timer),t.codeTime=0)})))},jfdoLogin:function(){var t=this;return console.log(11),uni.hideKeyboard(),this.form.isIntegralPay=1,this.form.card_sn&&this.form.card_secret?/^[1][0-9]{10}$/.test(this.form.phone)?this.form.sms_code?void this.$api.common.authLogin.post(this.form).then((function(e){if(0==e.code){var o=e.data.token;uni.setStorageSync(t.$tool.setStorageLocKey("token"),o),uni.showToast({title:e.msg,icon:"success"}),t.getAuthInfo(),uni.setStorageSync(t.$tool.setStorageLocKey("tabbarKey"),"home"),setTimeout((function(){uni.navigateTo({url:"/pages/tabbar/tabbar"})}),1e3)}})).catch((function(t){uni.showToast({title:t.msg,icon:"none"})})):(uni.showToast({title:"请填写验证码",icon:"none"}),!1):(uni.showToast({title:"请填写正确手机号码",icon:"none"}),!1):(uni.showToast({title:"卡号卡密不可为空",icon:"none"}),!1)},doLogin:function(){var t=this;if(uni.hideKeyboard(),this.form.isIntegralPay="",this.checked){if(!/^[1][0-9]{10}$/.test(this.form.phone))return uni.showToast({title:"请填写正确手机号码",icon:"none"}),!1;if(!this.form.sms_code)return uni.showToast({title:"请填写验证码",icon:"none"}),!1;this.$api.common.authLogin.post(this.form).then((function(e){if(0==e.code){var o=e.data.token;uni.setStorageSync(t.$tool.setStorageLocKey("token"),o),uni.showToast({title:e.msg,icon:"success"}),t.getAuthInfo(),uni.setStorageSync(t.$tool.setStorageLocKey("tabbarKey"),"home"),setTimeout((function(){uni.navigateTo({url:"/pages/tabbar/tabbar"})}),1e3)}})).catch((function(t){uni.showToast({title:t.msg,icon:"none"})}))}else uni.showToast({title:"请先勾选阅读并同意",icon:"none"})}}};e.default=n},6707:function(t,e,o){"use strict";o.r(e);var i=o("2d05"),n=o.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},bf8b:function(t,e,o){"use strict";var i=o("24d2"),n=o.n(i);n.a},cbc5:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */uni-page-body[data-v-bc38f88c]{background-color:#fff;height:100%}body.?%PAGE?%[data-v-bc38f88c]{background-color:#fff}.fudong[data-v-bc38f88c]{width:70%;height:%?15?%;background:linear-gradient(268deg,rgba(254,255,176,.3686274509803922),var(--logincolor));margin:auto;border-radius:%?40?%;position:absolute;z-index:1;bottom:%?-5?%;left:15%}.fudong2[data-v-bc38f88c]{width:%?20?%;height:%?20?%;background:linear-gradient(82deg,#fff,var(--logincolor-lighten-1));margin:auto;border-radius:50%;position:absolute;z-index:1;left:0;bottom:0}.dltab[data-v-bc38f88c]{margin:0 %?20?%;font-size:%?32?%;color:#333;text-align:center;position:relative;width:%?200?%}.dltabblack[data-v-bc38f88c]{margin:0 %?20?%;font-size:%?32?%;color:#999;text-align:center;position:relative;width:%?200?%}.header[data-v-bc38f88c]{padding-top:%?113?%;margin-left:%?60?%}.header h1[data-v-bc38f88c]{font-size:%?50?%;font-weight:500;color:#353535;margin-bottom:%?34?%}.header uni-text[data-v-bc38f88c]{font-size:%?28?%;font-weight:400;color:#353535}.form[data-v-bc38f88c]{margin-top:%?89?%}.form[data-v-bc38f88c] .username,\n.form[data-v-bc38f88c] .password{width:%?646?%;height:%?98?%;background:#f5f4f8;border-radius:46px;margin:0 auto;display:flex;padding-right:%?39?%}.form[data-v-bc38f88c] .username uni-input,\n.form[data-v-bc38f88c] .password uni-input{width:70%;height:100%;margin-left:%?39?%}.form[data-v-bc38f88c] .username uni-text,\n.form[data-v-bc38f88c] .password uni-text{font-size:%?28?%;line-height:%?98?%;color:var(--logincolor);float:right;text-align:end;display:inline-block;width:%?180?%;height:%?26?%}.form[data-v-bc38f88c] .username .int1,\n.form[data-v-bc38f88c] .password .int1{width:85%!important}.form[data-v-bc38f88c] .password2{width:%?646?%;border-radius:46px;margin:0 auto;display:flex;padding-right:%?39?%;margin-top:%?18?%;font-size:%?24?%;padding-left:%?40?%}.form[data-v-bc38f88c] .password{margin-top:%?38?%}.btn[data-v-bc38f88c]{width:%?646?%;height:%?98?%;border-radius:%?46?%;margin:0 auto;display:flex;justify-content:center;align-items:center;margin-top:%?54?%;font-size:%?34?%;color:#8a8a8a}.xieyi[data-v-bc38f88c]{width:100%;margin-top:%?60?%;text-align:center}.colorPrimary[data-v-bc38f88c]{color:var(--logincolor)}.u-checkbox-group[data-v-bc38f88c]{display:inline-block}.dis-btn-this.active[data-v-bc38f88c]{background:linear-gradient(91deg,var(--logincolor-lighten-1),var(--logincolor));box-shadow:%?0?% %?10?% %?20?% %?0?% var(--logincolor-lighten-1);color:#fff;opacity:1;filter:alpha(opacity=100)}.dis-btn-this[data-v-bc38f88c]{background:linear-gradient(91deg,var(--logincolor-lighten-1),var(--logincolor));box-shadow:%?0?% %?10?% %?20?% %?0?% var(--logincolor-lighten-1);color:#fff;border-radius:%?44?%;padding:%?25?%;border:none;text-align:center;font-size:%?32?%;opacity:.6;filter:alpha(opacity=60)}',""]),t.exports=e},de9e:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{style:t.myStyle},[o("v-uni-view",{staticClass:"header"},[o("h1",[t._v(t._s(t.login_config.title))]),o("v-uni-text",[t._v(t._s(t.login_config.ftitle))])],1),o("v-uni-view",{staticClass:"form"},[o("v-uni-view",{staticClass:"flex-row p-1 m-20 ",staticStyle:{height:"80rpx"}},[o("v-uni-view",{class:"phone"==t.dltype?"dltab":"dltabblack",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dltype="phone"}}},[o("v-uni-view",{staticStyle:{position:"absolute",width:"100%","z-index":"99"}},[t._v("手机号登录")]),"phone"==t.dltype?o("v-uni-view",{staticClass:"fudong"}):t._e()],1),o("v-uni-view",{class:"jfk"==t.dltype?"dltab":"dltabblack",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dltype="jfk"}}},[o("v-uni-view",{staticStyle:{position:"absolute",width:"100%","z-index":"99"}},[t._v("礼品卡登录")]),"jfk"==t.dltype?o("v-uni-view",{staticClass:"fudong"}):t._e()],1),o("v-uni-view",{staticClass:"flex-item"})],1),"jfk"==t.dltype?o("v-uni-view",{staticClass:"username"},[o("v-uni-input",{attrs:{placeholder:"请输入卡号","placeholder-style":"color: #B7B6B6;"},model:{value:t.form.card_sn,callback:function(e){t.$set(t.form,"card_sn","string"===typeof e?e.trim():e)},expression:"form.card_sn"}})],1):t._e(),"jfk"==t.dltype?o("v-uni-view",{staticClass:"password"},[o("v-uni-input",{attrs:{type:"safe-password",password:!0,placeholder:"请输入卡密","placeholder-style":"color: #B7B6B6;"},model:{value:t.form.card_secret,callback:function(e){t.$set(t.form,"card_secret","string"===typeof e?e.trim():e)},expression:"form.card_secret"}})],1):t._e(),o("v-uni-view",{staticClass:"password"},[o("v-uni-input",{attrs:{maxlength:11,placeholder:"请输入手机号","placeholder-style":"color: #B7B6B6;"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"===typeof e?e.trim():e)},expression:"form.phone"}})],1),o("v-uni-view",{staticClass:"password"},[o("v-uni-input",{attrs:{maxlength:6,placeholder:"请输入验证码","placeholder-style":"color: #B7B6B6;"},model:{value:t.form.sms_code,callback:function(e){t.$set(t.form,"sms_code","string"===typeof e?e.trim():e)},expression:"form.sms_code"}}),o("v-uni-text",{staticStyle:{color:"var(--logincolor)"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCheckNum()}}},[t._v(t._s(t.codeTime?t.codeTime+"s":"获取验证码"))])],1),o("v-uni-view",{staticClass:"password2"},[t._v("收不到短信？"),o("v-uni-text",{staticStyle:{color:"var(--logincolor)"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.callPhone.apply(void 0,arguments)}}},[t._v("获取语音验证码")])],1),o("v-uni-view",{class:["dis-btn-this btn",{active:t.checked}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),"jfk"==t.dltype?t.jfdoLogin():t.doLogin()}}},[t._v("登 录")])],1),t.login_config.remarkname?o("v-uni-view",{staticClass:"xieyi"},[o("v-uni-view",{staticClass:"  flex-row aic"},[o("v-uni-view",{staticClass:"u-text-right",staticStyle:{width:"35%","text-align":"right","margin-right":"6rpx"}},[t.checked?o("i",{staticClass:"icon icon icon-xuanze colorPrimary f18 ",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checked=!t.checked}}}):o("i",{staticClass:"icon icon icon-weixuan c999 f18",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checked=!t.checked}}})]),o("v-uni-view",{staticClass:"flex-item f12 text-l"},[o("v-uni-text",{staticClass:"u-m-l-10"},[t._v("阅读并同意"),o("v-uni-text",{staticClass:"colorPrimary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goTo()}}},[t._v(t._s(t.login_config.remarkname))])],1)],1)],1)],1):t._e()],1)},n=[]},e5e3:function(t,e,o){"use strict";o.r(e);var i=o("de9e"),n=o("6707");for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("bf8b");var c=o("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"bc38f88c",null,!1,i["a"],void 0);e["default"]=s.exports}}]);